<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="pt"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>WarehouseProperties.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">hertzbeat-warehouse</a> &gt; <a href="index.source.html" class="el_package">org.dromara.hertzbeat.warehouse.config</a> &gt; <span class="el_source">WarehouseProperties.java</span></div><h1>WarehouseProperties.java</h1><pre class="source lang-java linenums">/*
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the &quot;License&quot;); you may not use this file except in compliance with
 * the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package org.dromara.hertzbeat.warehouse.config;

import org.springframework.boot.context.properties.ConfigurationProperties;

import java.time.ZoneId;
import java.util.List;

/**
 * 数据仓储配置属性
 * @author tom
 *
 */
@ConfigurationProperties(prefix = &quot;warehouse&quot;)
<span class="nc" id="L31">public class WarehouseProperties {</span>

    /**
     * 数据入口配置属性
     */
    private EntranceProperties entrance;

    /**
     * 数据存储配置属性
     */
    private StoreProperties store;

    public EntranceProperties getEntrance() {
<span class="nc" id="L44">        return entrance;</span>
    }

    public void setEntrance(EntranceProperties entrance) {
<span class="nc" id="L48">        this.entrance = entrance;</span>
<span class="nc" id="L49">    }</span>

    public StoreProperties getStore() {
<span class="nc" id="L52">        return store;</span>
    }

    public void setStore(StoreProperties store) {
<span class="nc" id="L56">        this.store = store;</span>
<span class="nc" id="L57">    }</span>

    /**
     * 数据入口配置属性
     * 入口可以是从kafka rabbitmq rocketmq等消息中间件获取数据
     */
<span class="nc" id="L63">    public static class EntranceProperties {</span>

        /**
         * kafka配置信息
         */
        private KafkaProperties kafka;

        public KafkaProperties getKafka() {
<span class="nc" id="L71">            return kafka;</span>
        }

        public void setKafka(KafkaProperties kafka) {
<span class="nc" id="L75">            this.kafka = kafka;</span>
<span class="nc" id="L76">        }</span>

<span class="nc" id="L78">        public static class KafkaProperties {</span>
            /**
             * kafka数据入口是否启动
             */
<span class="nc" id="L82">            private boolean enabled = true;</span>

            /**
             * kafka的连接服务器url
             */
<span class="nc" id="L87">            private String servers = &quot;127.0.0.1:9092&quot;;</span>
            /**
             * 接收数据的topic名称
             */
            private String topic;
            /**
             * 消费者组ID
             */
            private String groupId;

            public boolean isEnabled() {
<span class="nc" id="L98">                return enabled;</span>
            }

            public void setEnabled(boolean enabled) {
<span class="nc" id="L102">                this.enabled = enabled;</span>
<span class="nc" id="L103">            }</span>

            public String getServers() {
<span class="nc" id="L106">                return servers;</span>
            }

            public void setServers(String servers) {
<span class="nc" id="L110">                this.servers = servers;</span>
<span class="nc" id="L111">            }</span>

            public String getTopic() {
<span class="nc" id="L114">                return topic;</span>
            }

            public void setTopic(String topic) {
<span class="nc" id="L118">                this.topic = topic;</span>
<span class="nc" id="L119">            }</span>

            public String getGroupId() {
<span class="nc" id="L122">                return groupId;</span>
            }

            public void setGroupId(String groupId) {
<span class="nc" id="L126">                this.groupId = groupId;</span>
<span class="nc" id="L127">            }</span>
        }

    }

    /**
     * 调度数据出口配置属性
     */
<span class="nc" id="L135">    public static class StoreProperties {</span>

        /**
         * use mysql/h2 jpa store metrics history data
         */
        private JpaProperties jpa;

        /**
         * 内存存储配置信息
         */
        private MemoryProperties memory;

        /**
         * influxdb配置信息
         */
        private InfluxdbProperties influxdb;
        /**
         * redis配置信息
         */
        private RedisProperties redis;
        /**
         * VictoriaMetrics Properties
         */
        private VictoriaMetricsProperties victoriaMetrics;
        /**
         * TdEngine配置信息
         */
        private TdEngineProperties tdEngine;
        /**
         * IoTDB配置信息
         */
        private IotDbProperties iotDb;
        /**
         * GrepTimeDB Config
         */
        private GreptimeProperties greptime;

        public JpaProperties getJpa() {
<span class="nc" id="L173">            return jpa;</span>
        }

        public void setJpa(JpaProperties jpa) {
<span class="nc" id="L177">            this.jpa = jpa;</span>
<span class="nc" id="L178">        }</span>

        public MemoryProperties getMemory() {
<span class="nc" id="L181">            return memory;</span>
        }

        public void setMemory(MemoryProperties memory) {
<span class="nc" id="L185">            this.memory = memory;</span>
<span class="nc" id="L186">        }</span>

        public InfluxdbProperties getInfluxdb() {
<span class="nc" id="L189">            return influxdb;</span>
        }

        public void setInfluxdb(InfluxdbProperties influxdb) {
<span class="nc" id="L193">            this.influxdb = influxdb;</span>
<span class="nc" id="L194">        }</span>

        public RedisProperties getRedis() {
<span class="nc" id="L197">            return redis;</span>
        }

        public void setRedis(RedisProperties redis) {
<span class="nc" id="L201">            this.redis = redis;</span>
<span class="nc" id="L202">        }</span>

        public VictoriaMetricsProperties getVictoriaMetrics() {
<span class="nc" id="L205">            return victoriaMetrics;</span>
        }

        public void setVictoriaMetrics(VictoriaMetricsProperties victoriaMetrics) {
<span class="nc" id="L209">            this.victoriaMetrics = victoriaMetrics;</span>
<span class="nc" id="L210">        }</span>

        public TdEngineProperties getTdEngine() {
<span class="nc" id="L213">            return tdEngine;</span>
        }

        public void setTdEngine(TdEngineProperties tdEngine) {
<span class="nc" id="L217">            this.tdEngine = tdEngine;</span>
<span class="nc" id="L218">        }</span>

        public IotDbProperties getIotDb() {
<span class="nc" id="L221">            return iotDb;</span>
        }

        public void setIotDb(IotDbProperties iotDb) {
<span class="nc" id="L225">            this.iotDb = iotDb;</span>
<span class="nc" id="L226">        }</span>

        public GreptimeProperties getGreptime() {
<span class="nc" id="L229">            return greptime;</span>
        }

        public void setGreptime(GreptimeProperties greptime) {
<span class="nc" id="L233">            this.greptime = greptime;</span>
<span class="nc" id="L234">        }</span>

<span class="nc" id="L236">        public static class MemoryProperties {</span>
            /**
             * 内存数据存储是否启动
             */
<span class="nc" id="L240">            private boolean enabled = true;</span>
            /**
             * 内存存储map初始化大小
             */
<span class="nc" id="L244">            private Integer initSize = 1024;</span>

            public boolean isEnabled() {
<span class="nc" id="L247">                return enabled;</span>
            }

            public void setEnabled(boolean enabled) {
<span class="nc" id="L251">                this.enabled = enabled;</span>
<span class="nc" id="L252">            }</span>

            public Integer getInitSize() {
<span class="nc" id="L255">                return initSize;</span>
            }

            public void setInitSize(Integer initSize) {
<span class="nc" id="L259">                this.initSize = initSize;</span>
<span class="nc" id="L260">            }</span>
        }

<span class="nc" id="L263">        public static class JpaProperties {</span>
            /**
             * use mysql/h2 jpa store metrics history data
             */
<span class="nc" id="L267">            private boolean enabled = true;</span>

            /**
             * save data expire time(ms)
             */
<span class="nc" id="L272">            private String expireTime = &quot;1h&quot;;</span>

            /**
             * The maximum number of history records retained
             */
<span class="nc" id="L277">            private Integer maxHistoryRecordNum = 20_000;</span>

            public boolean isEnabled() {
<span class="nc" id="L280">                return enabled;</span>
            }

            public void setEnabled(boolean enabled) {
<span class="nc" id="L284">                this.enabled = enabled;</span>
<span class="nc" id="L285">            }</span>

            public String getExpireTime() {
<span class="nc" id="L288">                return expireTime;</span>
            }

            public void setExpireTime(String expireTime) {
<span class="nc" id="L292">                this.expireTime = expireTime;</span>
<span class="nc" id="L293">            }</span>

            public Integer getMaxHistoryRecordNum() {
<span class="nc" id="L296">                return maxHistoryRecordNum;</span>
            }

            public void setMaxHistoryRecordNum(Integer maxHistoryRecordNum) {
<span class="nc" id="L300">                this.maxHistoryRecordNum = maxHistoryRecordNum;</span>
<span class="nc" id="L301">            }</span>
        }

<span class="nc" id="L304">        public static class InfluxdbProperties {</span>
            /**
             * influxdb数据存储是否启动
             */
<span class="nc" id="L308">            private boolean enabled = false;</span>
            /**
             * influxdb的连接服务器url
             */
            private String serverUrl;
            /**
             * 用户名
             */
            private String username;
            /**
             * 密码
             */
            private String password;
            /**
             * 过期时间
             */
<span class="nc" id="L324">            private String expireTime = &quot;30d&quot;;</span>
            /**
             * 副本数
             */
<span class="nc" id="L328">            private int replication = 1;</span>

            public boolean isEnabled() {
<span class="nc" id="L331">                return enabled;</span>
            }

            public void setEnabled(boolean enabled) {
<span class="nc" id="L335">                this.enabled = enabled;</span>
<span class="nc" id="L336">            }</span>

            public String getServerUrl() {
<span class="nc" id="L339">                return serverUrl;</span>
            }

            public void setServerUrl(String serverUrl) {
<span class="nc" id="L343">                this.serverUrl = serverUrl;</span>
<span class="nc" id="L344">            }</span>

            public String getUsername() {
<span class="nc" id="L347">                return username;</span>
            }

            public void setUsername(String username) {
<span class="nc" id="L351">                this.username = username;</span>
<span class="nc" id="L352">            }</span>

            public String getPassword() {
<span class="nc" id="L355">                return password;</span>
            }

            public void setPassword(String password) {
<span class="nc" id="L359">                this.password = password;</span>
<span class="nc" id="L360">            }</span>

            public String getExpireTime() {
<span class="nc" id="L363">                return expireTime;</span>
            }

            public void setExpireTime(String expireTime) {
<span class="nc" id="L367">                this.expireTime = expireTime;</span>
<span class="nc" id="L368">            }</span>
            
            public int getReplication() {
<span class="nc" id="L371">                return replication;</span>
            }
            
            public void setReplication(int replication) {
<span class="nc" id="L375">                this.replication = replication;</span>
<span class="nc" id="L376">            }</span>
        }

<span class="nc" id="L379">        public static class TdEngineProperties {</span>
            /**
             * Whether the TdEngine data store is enabled
             */
<span class="nc" id="L383">            private boolean enabled = false;</span>
            /**
             * TdEngine connect url
             */
<span class="nc" id="L387">            private String url = &quot;jdbc:TAOS-RS://localhost:6041/demo&quot;;</span>
            /**
             * tdengine driver, default restful driver
             */
<span class="nc" id="L391">            private String driverClassName = &quot;com.taosdata.jdbc.rs.RestfulDriver&quot;;</span>
            /**
             * tdengine username
             */
            private String username;
            /**
             * tdengine password
             */
            private String password;
            /**
             * auto create table's string column define max length : NCHAR(200)
             */
<span class="nc" id="L403">            private int tableStrColumnDefineMaxLength = 200;</span>

            public boolean isEnabled() {
<span class="nc" id="L406">                return enabled;</span>
            }

            public void setEnabled(boolean enabled) {
<span class="nc" id="L410">                this.enabled = enabled;</span>
<span class="nc" id="L411">            }</span>

            public String getUrl() {
<span class="nc" id="L414">                return url;</span>
            }

            public void setUrl(String url) {
<span class="nc" id="L418">                this.url = url;</span>
<span class="nc" id="L419">            }</span>

            public String getDriverClassName() {
<span class="nc" id="L422">                return driverClassName;</span>
            }

            public void setDriverClassName(String driverClassName) {
<span class="nc" id="L426">                this.driverClassName = driverClassName;</span>
<span class="nc" id="L427">            }</span>

            public String getUsername() {
<span class="nc" id="L430">                return username;</span>
            }

            public void setUsername(String username) {
<span class="nc" id="L434">                this.username = username;</span>
<span class="nc" id="L435">            }</span>

            public String getPassword() {
<span class="nc" id="L438">                return password;</span>
            }

            public void setPassword(String password) {
<span class="nc" id="L442">                this.password = password;</span>
<span class="nc" id="L443">            }</span>

            public int getTableStrColumnDefineMaxLength() {
<span class="nc" id="L446">                return tableStrColumnDefineMaxLength;</span>
            }

            public void setTableStrColumnDefineMaxLength(int tableStrColumnDefineMaxLength) {
<span class="nc" id="L450">                this.tableStrColumnDefineMaxLength = tableStrColumnDefineMaxLength;</span>
<span class="nc" id="L451">            }</span>
        }

<span class="nc" id="L454">        public static class VictoriaMetricsProperties {</span>
            /**
             * Whether the VictoriaMetrics data store is enabled
             */
<span class="nc" id="L458">            private boolean enabled = false;</span>
            /**
             * VictoriaMetrics connect url
             */
<span class="nc" id="L462">            private String url = &quot;http://localhost:8428&quot;;</span>
            /**
             * VictoriaMetrics username
             */
            private String username;
            /**
             * VictoriaMetrics password
             */
            private String password;

            public boolean isEnabled() {
<span class="nc" id="L473">                return enabled;</span>
            }

            public void setEnabled(boolean enabled) {
<span class="nc" id="L477">                this.enabled = enabled;</span>
<span class="nc" id="L478">            }</span>

            public String getUrl() {
<span class="nc" id="L481">                return url;</span>
            }

            public void setUrl(String url) {
<span class="nc" id="L485">                this.url = url;</span>
<span class="nc" id="L486">            }</span>

            public String getUsername() {
<span class="nc" id="L489">                return username;</span>
            }

            public void setUsername(String username) {
<span class="nc" id="L493">                this.username = username;</span>
<span class="nc" id="L494">            }</span>

            public String getPassword() {
<span class="nc" id="L497">                return password;</span>
            }

            public void setPassword(String password) {
<span class="nc" id="L501">                this.password = password;</span>
<span class="nc" id="L502">            }</span>
            
        }

<span class="nc" id="L506">        public static class RedisProperties {</span>
            /**
             * redis数据存储是否启动
             */
<span class="nc" id="L510">            private boolean enabled = false;</span>
            /**
             * redis 主机host
             */
<span class="nc" id="L514">            private String host = &quot;127.0.0.1&quot;;</span>
            /**
             * redis 主机端口
             */
<span class="nc" id="L518">            private Integer port = 6379;</span>
            /**
             * redis 访问密码
             */
            private String password;
            /**
             * redis 使用数据库，默认为DB0
             */
<span class="nc" id="L526">            private Integer db = 0;</span>

            public Integer getDb() {
<span class="nc" id="L529">                return db;</span>
            }

            public void setDb(Integer db) {
<span class="nc" id="L533">                this.db = db;</span>
<span class="nc" id="L534">            }</span>

            public boolean isEnabled() {
<span class="nc" id="L537">                return enabled;</span>
            }

            public void setEnabled(boolean enabled) {
<span class="nc" id="L541">                this.enabled = enabled;</span>
<span class="nc" id="L542">            }</span>

            public String getHost() {
<span class="nc" id="L545">                return host;</span>
            }

            public void setHost(String host) {
<span class="nc" id="L549">                this.host = host;</span>
<span class="nc" id="L550">            }</span>

            public Integer getPort() {
<span class="nc" id="L553">                return port;</span>
            }

            public void setPort(Integer port) {
<span class="nc" id="L557">                this.port = port;</span>
<span class="nc" id="L558">            }</span>

            public String getPassword() {
<span class="nc" id="L561">                return password;</span>
            }

            public void setPassword(String password) {
<span class="nc" id="L565">                this.password = password;</span>
<span class="nc" id="L566">            }</span>
        }

<span class="nc" id="L569">        public static class IotDbProperties {</span>
            /**
             * Whether the iotDB data store is enabled
             */
<span class="nc" id="L573">            private boolean enabled = false;</span>

            /**
             * iotDB host
             */
<span class="nc" id="L578">            private String host = &quot;127.0.0.1&quot;;</span>

            /**
             * iotDB rpc port
             */
<span class="nc" id="L583">            private Integer rpcPort = 6667;</span>

            /**
             * iotDB username
             */
            private String username;

            /**
             * iotDB password
             */
            private String password;

            /**
             * cluster node url list
             */
            private List&lt;String&gt; nodeUrls;

            private ZoneId zoneId;

            /**
             * the version of IotDb
             */
            private IotDbVersion version;

            /**
             * query timeout(ms)
             */
            private long queryTimeoutInMs;

            /**
             * save data expire time(ms)，-1 means it never expires
             * 数据存储时间(单位：ms,-1代表永不过期)
             * 注：这里为什么使用String而不是Long？
             *    目前IoTDB的set ttl只支持毫秒作为单位，后面可能会添加其他单位，为了兼容后面所以使用String类型
             */
            private String expireTime;

            public boolean isEnabled() {
<span class="nc" id="L621">                return enabled;</span>
            }

            public void setEnabled(boolean enabled) {
<span class="nc" id="L625">                this.enabled = enabled;</span>
<span class="nc" id="L626">            }</span>

            public String getUsername() {
<span class="nc" id="L629">                return username;</span>
            }

            public void setUsername(String username) {
<span class="nc" id="L633">                this.username = username;</span>
<span class="nc" id="L634">            }</span>

            public String getPassword() {
<span class="nc" id="L637">                return password;</span>
            }

            public void setPassword(String password) {
<span class="nc" id="L641">                this.password = password;</span>
<span class="nc" id="L642">            }</span>

            public String getHost() {
<span class="nc" id="L645">                return host;</span>
            }

            public void setHost(String host) {
<span class="nc" id="L649">                this.host = host;</span>
<span class="nc" id="L650">            }</span>

            public Integer getRpcPort() {
<span class="nc" id="L653">                return rpcPort;</span>
            }

            public void setRpcPort(Integer rpcPort) {
<span class="nc" id="L657">                this.rpcPort = rpcPort;</span>
<span class="nc" id="L658">            }</span>

            public List&lt;String&gt; getNodeUrls() {
<span class="nc" id="L661">                return nodeUrls;</span>
            }

            public void setNodeUrls(List&lt;String&gt; nodeUrls) {
<span class="nc" id="L665">                this.nodeUrls = nodeUrls;</span>
<span class="nc" id="L666">            }</span>

            public IotDbVersion getVersion() {
<span class="nc" id="L669">                return version;</span>
            }

            public void setVersion(IotDbVersion version) {
<span class="nc" id="L673">                this.version = version;</span>
<span class="nc" id="L674">            }</span>

            public ZoneId getZoneId() {
<span class="nc" id="L677">                return zoneId;</span>
            }

            public void setZoneId(ZoneId zoneId) {
<span class="nc" id="L681">                this.zoneId = zoneId;</span>
<span class="nc" id="L682">            }</span>

            public long getQueryTimeoutInMs() {
<span class="nc" id="L685">                return queryTimeoutInMs;</span>
            }

            public void setQueryTimeoutInMs(long queryTimeoutInMs) {
<span class="nc" id="L689">                this.queryTimeoutInMs = queryTimeoutInMs;</span>
<span class="nc" id="L690">            }</span>

            public String getExpireTime() {
<span class="nc" id="L693">                return expireTime;</span>
            }

            public void setExpireTime(String expireTime) {
<span class="nc" id="L697">                this.expireTime = expireTime;</span>
<span class="nc" id="L698">            }</span>
        }

<span class="nc" id="L701">        public static class GreptimeProperties {</span>
            /**
             * Whether the GrepTimeDB data store is enabled
             */
<span class="nc" id="L705">            private boolean enabled = false;</span>

            /**
             * GrepTimeDB endpoint
             */
<span class="nc" id="L710">            private String endpoint = &quot;127.0.0.1:4001&quot;;</span>

            /**
             * GrepTimeDB username
             */
            private String username;

            /**
             * GrepTimeDB password
             */
            private String password;

            public boolean isEnabled() {
<span class="nc" id="L723">                return enabled;</span>
            }

            public void setEnabled(boolean enabled) {
<span class="nc" id="L727">                this.enabled = enabled;</span>
<span class="nc" id="L728">            }</span>

            public String getEndpoint() {
<span class="nc" id="L731">                return endpoint;</span>
            }

            public void setEndpoint(String endpoint) {
<span class="nc" id="L735">                this.endpoint = endpoint;</span>
<span class="nc" id="L736">            }</span>

            public String getUsername() {
<span class="nc" id="L739">                return username;</span>
            }

            public void setUsername(String username) {
<span class="nc" id="L743">                this.username = username;</span>
<span class="nc" id="L744">            }</span>

            public String getPassword() {
<span class="nc" id="L747">                return password;</span>
            }

            public void setPassword(String password) {
<span class="nc" id="L751">                this.password = password;</span>
<span class="nc" id="L752">            }</span>
        }
    }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>